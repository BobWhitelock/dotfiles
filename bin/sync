#!/bin/bash
set -euo pipefail
IFS=$'\n\t'


main() {
  # Request `sudo` access pre-emptively, so password isn't re-prompted for at
  # some arbitrary time for later uses of `sudo`.
  sudo true

  cd "$NOTES" && git pull
  cd "$DOTFILES_PRIVATE" && git pull
  cd "$DOTFILES" && git pull && ./install
  sudo "$LIBEXEC"/etc-push
}

main "$@"
